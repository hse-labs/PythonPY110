<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>HTMX hx-trigger –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è</title>
  <script src="https://unpkg.com/htmx.org@2.0.0"></script>
  <style>
    :root {
      --bg-light: #fff;
      --bg-dark: #1e1e1e;
      --text-light: #000;
      --text-dark: #fff;
      --accent: #4a90e2;
    }

    [data-theme="light"] {
      background-color: var(--bg-light);
      color: var(--text-light);
    }

    [data-theme="dark"] {
      background-color: var(--bg-dark);
      color: var(--text-dark);
    }

    body {
      font-family: sans-serif;
      margin: 2rem;
      transition: background-color 0.3s, color 0.3s;
    }

    h2 {
      margin-top: 3rem;
    }

    .box {
      padding: 1rem;
      margin-top: 1rem;
      border-radius: 8px;
      background: rgba(255,255,255,0.1);
      border: 1px solid #ccc;
      transition: background-color 0.3s, transform 0.3s;
      animation: fadeIn 0.5s ease;
    }
    .lazy-container {
    min-height: 300px;
    border: 1px dashed #ccc;
    padding: 10px;
  }

  .color-box {
    height: 300px;
    margin-bottom: 10px;
    border-radius: 8px;
    animation: fade-in 0.5s ease-in;
  }
    .lazy-block {
      margin-top: 100vh;
    }

    .theme-toggle {
      position: fixed;
      top: 1rem;
      right: 1rem;
      padding: 0.5rem 1rem;
      background: var(--accent);
      color: white;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }
    .loading-trigger {
    text-align: center;
    padding: 40px;
    font-style: italic;
    color: #777;
  }
    @keyframes fadeIn {
      from {opacity: 0; transform: translateY(10px);}
      to {opacity: 1; transform: translateY(0);}
    }

    /* –ú–µ–¥–∏–∞-–∑–∞–ø—Ä–æ—Å */
    @media (max-width: 600px) {
      body {
        font-size: 0.9rem;
      }
      .box {
        background: rgba(0, 0, 0, 0.1);
      }
    }
  </style>
</head>
<body>
<button class="theme-toggle" onclick="toggleTheme()">üåì –°–º–µ–Ω–∏—Ç—å —Ç–µ–º—É</button>

  <h1>HTMX: –ê–¥–∞–ø—Ç–∏–≤–Ω—ã–µ —Ç—Ä–∏–≥–≥–µ—Ä—ã —Å —ç—Ñ—Ñ–µ–∫—Ç–∞–º–∏</h1>

  <!-- Every 1 seconds -->
  <h2>–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–∞–∂–¥—ã–µ 1 —Å–µ–∫—É–Ω–¥—É</h2>
  <div hx-get="/htmx/hx-trigger/adaptive/every/"
       hx-trigger="every 1s"
       hx-target="#every-box"
       hx-swap="innerHTML">
  </div>
  <div id="every-box" class="box">–û–∂–∏–¥–∞–Ω–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è...</div>

  <!-- load with delay -->
  <h2>–ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ —Å –∑–∞–¥–µ—Ä–∂–∫–æ–π</h2>
  <div hx-get="/htmx/hx-trigger/adaptive/delayed/"
       hx-trigger="load delay:1000ms"
       hx-target="#delayed-box"
       hx-swap="innerHTML">
  </div>
  <div id="delayed-box" class="box">–ñ–¥—ë–º 1 —Å–µ–∫—É–Ω–¥—É...</div>

  <!-- Resize -->
  <h2>–ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ –æ–∫–Ω–∞</h2>
  <div hx-get="/htmx/hx-trigger/adaptive/resize/"
       hx-trigger="resize from:window throttle:1000ms"
       hx-target="#resize-box"
       hx-swap="innerHTML">
  </div>
  <div id="resize-box" class="box">–ò–∑–º–µ–Ω–∏ —Ä–∞–∑–º–µ—Ä –æ–∫–Ω–∞</div>

  <!-- Input trigger -->
  <h2>–í–≤–æ–¥ —Ç–µ–∫—Å—Ç–∞</h2>
  <input name="search"
         placeholder="–í–≤–µ–¥–∏—Ç–µ —á—Ç–æ-–Ω–∏–±—É–¥—å..."
         hx-get="/htmx/hx-trigger/adaptive/input/"
         hx-trigger="input changed delay:300ms"
         hx-target="#search-box"
         hx-swap="innerHTML" />
  <div id="search-box" class="box">–ó–¥–µ—Å—å –ø–æ—è–≤–∏—Ç—Å—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç</div>

  <!-- –ü—Ä–æ–∫—Ä—É—Ç–∫–∞ -->
  <h2>–°–æ–±—ã—Ç–∏–µ –ø—Ä–æ–∫—Ä—É—Ç–∫–∏ (scroll)</h2>
  <div id="scroll-result" class="box">–ü—Ä–æ–∫—Ä—É—Ç–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤–Ω–∏–∑</div>
  <div hx-get="/htmx/hx-trigger/adaptive/scroll/"
       hx-trigger="scroll from:window throttle:1000ms"
       hx-target="#scroll-result"
       hx-swap="innerHTML">
  </div>

  <div style="height: 50vh"> –ü—Ä–æ—Å—Ç–æ –º–µ—Å—Ç–æ –¥–ª—è –∏–º–∏—Ç–∞—Ü–∏–∏ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–ª–µ–µ</div>

  <h2>üé® –õ–µ–Ω–∏–≤—ã–µ –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω–∏–∫–∏ —Å –ø—Ä–æ–∫—Ä—É—Ç–∫–æ–π</h2>
  <div id="lazy-scroll-trigger"
     hx-get="/htmx/hx-trigger/adaptive/next/"
     hx-trigger="revealed"
     hx-target="#lazy-scroll-trigger"
     hx-swap="outerHTML"
     class="loading-trigger">
  üëÄ –ü—Ä–æ–∫—Ä—É—Ç–∏—Ç–µ –Ω–∏–∂–µ –¥–ª—è –ø–æ–¥–≥—Ä—É–∑–∫–∏...
</div>
<script>
  function toggleTheme() {
    const current = document.documentElement.getAttribute("data-theme");
    document.documentElement.setAttribute("data-theme", current === "dark" ? "light" : "dark");
  }
</script>

</body>
</html>
